language: node_js
node_js:
- '0.10'
- '0.11'
before_script:
- npm install -g bower grunt-cli
- gem install sass
- bower install
services: mongodb
#deploy:
#  provider: heroku
#  username: alfonso.presa@gmail.com
#  app: stocks-alfonso-presa
#  skip_cleanup: true
#  api_key:
#    secure:
after_script:
  # Install the Heroku package (or the Heroku toolbelt)
  - npm install heroku
  # Download and install Heroku toolbelt locally
  - wget -qO- https://toolbelt.heroku.com/install-ubuntu.sh | sh
  # Turn off warnings about SSH keys:
  - echo "Host heroku.com" >> ~/.ssh/config
  - echo "   StrictHostKeyChecking no" >> ~/.ssh/config
  - echo "   CheckHostIP no" >> ~/.ssh/config
  - echo "   UserKnownHostsFile=/dev/null" >> ~/.ssh/config
  # Clear your current Heroku SSH keys:
  - heroku keys:clear
  # Add a new SSH key to Heroku
  - yes | heroku keys:add
  # Add your Heroku git repo:
  - heroku git:remote -a stocks-alfonso-presa
  - cd dist
  - git add * -f
  - git commit -m "Travis CI"
  # Push to Heroku!
  - yes | git push heroku master
env:
  global:
    secure: HEROKU_API_KEY=FV3yXkEs8Xj+Pf0QMxDL+v6+V0Z0BWW6NbC2zSoXoeYlYzoszoMSGbvh07PR8PBx7OnvB8qa5LZULVx/1ni4SChSqM7Un/75QRGRkbV0jPYjNGkcizNc4UIzw0QYaKxaywB9ur7kmm0B9EPvhCm57E6r10TBuRsukxxhmuhZZLw=
